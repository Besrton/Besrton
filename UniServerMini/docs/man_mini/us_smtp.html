<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <title>US SMTP Client</title>
  <link href="common/css/main.css" rel="stylesheet" type="text/css">
  <link href="common/css/menu.css" rel="stylesheet" type="text/css">
</head>

<body id="p40">
<!-- Start header -->
  <script language="javascript" src="common/header.js"></script>
<!-- End header -->

<table id="main" >
<tr valign="top">

<td id="td_menu">
  <script language="javascript" src="common/top_menu.js"></script>
</td>

<td id="td_spacer" ></td >

<td id="td_content" >
<!-- ============ Start Content ========== -->

<h1>The Uniform Server SMTP mail client</h1>

<h2>Introduction</h2>
<p>The Uniform Server mail client is a windows console application that allows you to deliver emails generated by the PHP mail function.  It requires an smtp server to perform the actual delivery. This can be either your ISPâ€™s mail server or a third party mail server such as Gmail or Hotmail. After authentication third party mail servers allow your emails to be relayed through their servers. The Uniform Server mail client provides basic authentication suitable for third party or your ISPs mail server. Supporting only basic authentication minimises executable size and configuration.</p>

<p>The Uniform Server mail client incorporates a useful test feature; instead of sending mail to an smtp server it can be configured to dump PHP mail output (stdout text) to a text file. During code development allows you to check e-mail headers have been correctly formatted before committing your code to a live server.</p>

<p>Another useful feature of The Uniform Server mail client is the capability of sending emails using a batch file.</p>

<table>
<tr>
<td>
<div id="page_links_menu_shadow" >
 <div id="page_links_menu" >
  <ul>
   <li><a href="#Overview" >Overview</a></li>
   <li><a href="#Edit SMTP Configuration" >Edit SMTP Configuration</a></li>
   <li><a href="#Configuration parameters" >Configuration parameters</a></li>
   <li><a href="#Ports" >&nbsp;&nbsp;Ports</a></li>
   <li><a href="#Configuration common section" >Configuration common section</a></li>

   <li><a href="#Where to next" >Where to next</a></li>
  </ul>
 </div>
</div>
</td>

<td>
&nbsp;&nbsp;&nbsp;&nbsp;
</td>
<td>
<b><i>Features</i>:</b>
  <ul>
   <li>Easy to configure.</li>
   <li>Basic authentication.</li>
   <li>Fully portable.</li>
   <li>Test feature dump mail to text file.</li>
  </ul>
</td>
</tr>
</table>


<a name="Overview"></a>
<h2>Overview</h2>
<p>The Uniform Server SMTP mail client uses a separate configuration file which has been pre-configured with example (template) accounts. Before you can use PHP e-mail functions you need to set-up at least one account. Generally this account is your ISP email account, but for portability, consider setting up a free email account such as <b>Gmail</b> or Hotmail.</p>

<p>Only one account the <b>default</b> account is active at any one time.</p>

<p>Note: SMTP has been pre-configured and enabled in PHP configuration files php.ini, php_development.ini and php_production.ini.</p>

<script language="javascript" src="common/top.js"></script>
<a name="Edit SMTP Configuration"></a>
<h2>Edit SMTP Configuration</h2>

<p>The Uniform Server SMTP mail client is configured using a configuration file named <b>us_smtp.ini</b>.<br />
 This has been pre-configured with three account skeleton templates (Gmail, Hotmail and MyISP).</p>

<p>Open the file in a text editor. <b>File location:</b> C:\UniServerMini\core\us_smtp\us_smtp.ini</p>

<table>
  <tr valign="top">
    <td>
<b>Notes:</b>
<p>Although there are three pre-configured account skeletons (Gmail, Hotmail and MyISP) you can add as many as you like, but each must have a <b>unique</b> section name.</p>

<p><b>Default Account</b></p>
 <ul>
  <li>In the Common section change "default = <b>MyISP</b>" with the account name you want to use.</li>
</ul> 



<p>The pre-configured accounts are templates. You must change the following for at least one account and assign it as the default.</p>

<p><b>1) Gmail</b></p> 
<ul>
  <li><b>host =</b>  smtp.gmail.com - No need to change this.</li>
  <li><b>user =</b>  Change this to your Gmail login email address.</li>
  <li><b>password =</b>  Change this to your Gmail login password.</li>
</ul> 

<p><b>2) Hotmail</b></p> 
<ul>
  <li><b>host =</b>  smtp.live.com - No need to change this.</li>
  <li><b>user =</b>  Change this to your Hotmail login email address.</li>
  <li><b>password =</b>  Change this to your Hotmail login password.</li>

</ul> 
<p>Note: To relay via Hotmail you will need to regularly sign into your account.</p>

<p><b>3) MyISP</b></p> 
<ul>
  <li><b>host =</b> Change this to your ISP's smpt server</li>
  <li><b>user =</b> Change this to your email address.</li>
  <li><b>password =</b> Add your ISP login password if required otherwise leave blabk.</li>
</ul> 

    </td>
    <td>
<b>File: us_smtp.ini</b>
<pre>
###############################################################################
# Uniform Server us_smtp.ini configuration file.
#
# There are three pre-configured template accounts (Gmail, Hotmail and MyISP).
# You must change parameters for at least one account and assign it as default.
#
# 1) Gmail
#    Substitute user john.doe777@gmail.com with your login email address.
#    Substitute password fred999 with your login password. 
#
# 2) Hotmail
#    Substitute user john.doe123@hotmail.co.uk with your login email address.
#    Substitute password fred123 with your login password.
#    Note: To relay via Hotmail you need to regularly sign into your accout.
#
# 3) MyISP  
#    Substitute host smpt.tiscali.co.uk with your ISP's smpt server.
#    Substitute user john.doe@tiscali.co.uk with your real email address.
#    Password leave blank if your isp does not require a password. 
#
# PHP will use the account you have assigned as default.
# Change following line in section [Common] as appropriate: default = MyISP 
###############################################################################

[Common]
default = MyISP

[Gmail]
host = smtp.gmail.com
user = john.doe777@gmail.com
password = fred999

[Hotmail]
host = smtp.live.com
user = john.doe123@hotmail.co.uk
password = fred123

[MyISP]
host = smpt.tiscali.co.uk
user = john.doe@tiscali.co.uk
password =

</pre>
    </td>
  </tr>
</table>
<p><b>Note 1:</b> PHP will use the account you have assigned as default. A default installation sets this to MyISP. </p> 

<script language="javascript" src="common/top.js"></script>
<a name="Configuration parameters"></a>
<h2>Configuration parameters</h2>

<p>The default configuration file is intentionally sparse requiring minimum amount of user configuration. The following are optional parameters that may be configured these override the assigned default parameter value.</p>

<script language="javascript" src="common/top.js"></script>
<a name="Ports"></a>
<h3>Ports</h3>

<p>The three skeleton templates Gmail, Hotmail and MyISP have default ports assigned.<br />
Their values are overridden by using the following configuration directive: <b>port = <i>portnumber</i></b></p>


<table>
  <tr valign="top">
    <td>
<b>Description:</b>
<ul>
  <li> The port configuration directive can be placed anywhere within a configuration section.</li>
  <li> Examples are shown on right. Values used are defaults change as appropriate.</li>
</ul>

<p><b>Note:</b> With the exception of Gmail and Hotmail all sections defined default to port 25.<br />
 Use a port configuration directive to overwrite this default value.</p>

    </td>

    <td>
<b>Extract from file: us_smtp.ini</b>
<pre>
[Gmail]
port = 587
host = smtp.gmail.com
user = john.doe777@gmail.com
password = fred999

[Hotmail]
port = 587
host = smtp.live.com
user = john.doe123@hotmail.co.uk
password = fred123

[MyISP]
port = 25
host = smpt.tiscali.co.uk
user = john.doe@tiscali.co.uk
password =
</pre>
    </td>
  </tr>
</table>

<script language="javascript" src="common/top.js"></script>
<a name="Configuration common section"></a>
<h2>Configuration common section</h2>
<p>The following optional configuration directives can be placed in the Common section.</p>

<table cellpadding="3" >
 <tr bgcolor="#A4A4A4">
   <td><b>Directive</b></td> <td><b>Value</b></td> <td><b>Description</b></td>
 </tr>

 <tr bgcolor="#D8D8D8">
   <td>dump_mail</td>
   <td>true</td>
   <td>Mail data destined for the smtp server is output to file <b> us_dump.txt</b></td>
 </tr>
 <tr bgcolor="#D8D8D8">
   <td>&nbsp;</td>
   <td><b>false</b></td>
   <td>Default value. Do not output mail data to file.</td>
 </tr>

 <tr bgcolor="#E8E8E8">
   <td>use_mail_file</td>
   <td>true</td>
   <td>Read data directely from a text file named <b>us_mail_in.txt</b>.</td>
 </tr>
 <tr bgcolor="#E8E8E8">
   <td>&nbsp;</td>
   <td><b>false</b></td>
   <td>Default value. Do not read data from file use <b>stdin</b></td>
 </tr>

 <tr bgcolor="#D8D8D8">
   <td>send_mail</td>
   <td><b>true</b></td>
   <td>Default value. Send mail to smtp server.</td>
 </tr>
 <tr bgcolor="#D8D8D8">
   <td>&nbsp;</td>
   <td>false</td>
   <td>Do not send mail to smpt server. For testing use this in conjunction with dump_mail=true.</td>
 </tr>
</table>

<p>Files us_dump.txt and us_mail_in.txt are located in folder \core\smtp</p>

<script language="javascript" src="common/top.js"></script>
<a name="Where to next"></a>
<h2>Where to next</h2>

<p><a href="us_smtp_examples.html">PHP Mail Examples</a> - A collection of PHP mail function examples</p>

<script language="javascript" src="common/top.js"></script>

<!-- ============ End Content ============ -->
</td>
</tr>
</table>

<!-- Start footer -->
  <script language="javascript" src="common/footer.js"></script>
<!-- End footer -->

</body>
</html>
